{
  "start": "June 26, 2020",
  "title": "Flip cards with Javascript",
  "thumbnail": "https://res.cloudinary.com/mugas/image/upload/v1592195735/movie_albums_v623ut.png",
  "excerpt": "With toggle and this keyword",
  "author": "Ricardo Moreira",
  "body": "Flipping a card, or some element is something that is used quite often in many projects/applications. \n\nYou can achieve it \"only\" using it CSS, by toggle and even by click, but it is a good way to start learning JS. It takes only few lines of code of Javascript and with some css you can make a nice effect to your page.\n\nIn this project we are going to use 4 different cards and loop over them to know how to achieve the flipping of every one of them. Also I had some responsiveness and accessibility to the page. Like we did it with the [Image Gallery](https://www.ricardomoreira.io/blog/2020-05-28-create-a-image-gallery) we also going to build it mobile first.\n\n\nSo what we are going to build? A page with music albums covers and when flipping we can access the back of the cards where is the info about the album. You can see the final project from the following links.\n\n## Links\n\n* [Project page](https://goodstuffmusicalbum.netlify.app/)\n* [GitHub page](https://github.com/mugas/Movie-hero)\n* [Code Pen](https://codepen.io/collection/DrpKdj)\n* You also can read it [here](https://dev.to/mugas/flip-cards-with-javascript-2ad0) and [here](https://medium.com/@ricardo.d.moreira.rm/flip-cards-with-javascript-e06971d82f50)\n\nSo first let's build our html.\n\n```html\n<header><h1 tabindex=\"0\" id=\"title\">New Albums this week</h1></header>\r\n\r\n    <section class=\"cards\">\r\n      <div class=\"cards__single\">\r\n        <div class=\"cards__front\">\r\n        </div>\r\n        <div class=\"cards__back\">\r\n        </div>\r\n\n       <div class=\"cards__single\">\r\n         <div class=\"cards__front\">\r\n         </div>\r\n         <div class=\"cards__back\">\r\n         </div>\r\n      </div>\n\n      <div class=\"cards__single\">\r\n        <div class=\"cards__front\">\r\n        </div>\r\n        <div class=\"cards__back\">\r\n        </div>\r\n      </div>\n\n      <div class=\"cards__single\">\r\n        <div class=\"cards__front\">\r\n        </div>\r\n        <div class=\"cards__back\">\r\n        </div>\r\n      </div>\n```\n\nSo what we have here? Let's start with our header. I set a `tabindex=0` on it to receive keyboard focus. When a user wants to \"scroll\" a website with the tab button, only forms and links receive programmatic focus. With the **tab index equals to 0** you ensure that other elements will get the focus, but will not change the tab order, so it will run trough the logical navigation flow.\nThen we create a section with the class `cards` and inside of it a div that will represent one card `class=\"cards__single\"`and then inside of that div we will add the front and the back of the card. Each one of them will be inside of each div with their own class `cards__front` `cards__back`. Then we just do exactly the same for 3 more cards, because we will build 4 in total.\n\nNow we only need to add our data. I just picked up some [unsplash](https://unsplash.com/) pics from albums and then search the album info. So one card will look like this:\n\n```html\n<header><h1 tabindex=\"0\" id=\"title\">New Albums this week</h1></header>\r\n\r\n    <section class=\"cards\">\r\n      <div class=\"cards__single\">\r\n        <div class=\"cards__front\">\r\n          <img\r\n            class=\"cards__image\"\r\n            src=\"https://images.unsplash.com/photo-1514924527133-371124f6f5e3?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=667&q=80\"\r\n            alt=\"Bon Iver album\"\r\n          />\r\n          <h1 class=\"cards__artist\" tabindex=\"0\">Bon Iver</h1>\r\n          <p class=\"cards__album\" tabindex=\"0\">\r\n            <strong>For Emma, Forever Ago</strong>\r\n          </p>\r\n        </div>\r\n        <div class=\"cards__back\">\r\n          <h2 tabindex=\"0\">Songs</h2>\r\n          <ol>\r\n            <li>Flume</li>\r\n            <li>Lump Sum</li>\r\n            <li>Skinny Love</li>\r\n            <li>The Wolves</li>\r\n            <li>Blind Sided</li>\r\n            <li>Creature Fear</li>\r\n            <li>Team</li>\r\n            <li>For Emma</li>\r\n            <li>re:Stacks</li>\r\n          </ol>\r\n          <p class=\"cards__year\">Year: 2008</p>\r\n        </div>\r\n      </div>\r\n    </section>\n```\n\nI only add one album  info here. Below there is the code pen:\n\n<p class=\"codepen\" data-height=\"265\" data-theme-id=\"dark\" data-default-tab=\"html,result\" data-user=\"mugas\" data-slug-hash=\"zYrBXeo\" style=\"height: 265px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;\" data-pen-title=\"Albums - No CSS\">\r\n  <span>See the Pen <a href=\"https://codepen.io/mugas/pen/zYrBXeo\">\r\n  Albums - No CSS</a> by Ricardo (<a href=\"https://codepen.io/mugas\">@mugas</a>)\r\n  on <a href=\"https://codepen.io\">CodePen</a>.</span>\r\n</p>\r\n<script async src=\"https://static.codepen.io/assets/embed/ei.js\"></script>\n\nNow the data is there, let's try to put the cards in order and the back hidden( some styling like the title will not be mentioned here, but will be present in the code pen and final version)\nFirst we flex:\n\n```css\n.cards {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-content: center;\r\n  align-items: center;\r\n}\n```\n\nWe are building first for mobile, so in the phone we want that the cards will be one after the other when you scroll down, hence we put the `flex-direction:column` and `justify-content:center`.\n\nNow let's style each one of the cards:\n\n```css\n.cards__single {\r\n  background: #a64e43;\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin-top: 20px;\r\n  width:80%;\n  border-radius: 16px;\r\n  box-shadow: 0 5px 18px rgba(0, 0, 0, 0.6);\r\n  cursor: pointer;\r\n  text-align: center;\r\n}\r\n\r\n.cards__image {\r\n  text-align: center;\r\n  width: 100%;\r\n  border-radius: 16px;\r\n}\r\n\r\n.cards__artist,\r\n.cards__album {\r\n  color: #20263f;\r\n}\r\n\r\n.cards__front img {\r\n  margin: 0;\r\n  height: 250px;\r\n}\r\n\r\n.cards__album {\r\n  font-style: italic;\r\n}\r\n\r\nh2 {\r\n  margin: 0;\r\n  text-align: center;\r\n}\r\n\r\nli {\r\n  line-height: 21px;\r\n}\n```\n\nThe more important to mention here is we add to each card also flex and also `flex-direction: column` for the same reason: We want that the data is one after the other. For example, first the image, then the title and also the songs of each album one after the other. Also to mention that this we don't need to change mobile to desktop because we want same direction either way.\nBesides that the rest is, adding color and some spacing. It still can be improved this area, either for mobile and desktop so you can change the way you feel like it.\nHere is the code pen:\n<p class=\"codepen\" data-height=\"265\" data-theme-id=\"dark\" data-default-tab=\"html,result\" data-user=\"mugas\" data-slug-hash=\"yLebaeX\" style=\"height: 265px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;\" data-pen-title=\"Flip Cards  - With flex\">\r\n  <span>See the Pen <a href=\"https://codepen.io/mugas/pen/yLebaeX\">\r\n  Flip Cards  - With flex</a> by Ricardo (<a href=\"https://codepen.io/mugas\">@mugas</a>)\r\n  on <a href=\"https://codepen.io\">CodePen</a>.</span>\r\n</p>\r\n<script async src=\"https://static.codepen.io/assets/embed/ei.js\"></script>\n\nNow that it starts to look like something, let's hide the back of the card and style the rest:\n\n```css\n.cards__front,\r\n.cards__back {\r\n  -webkit-backface-visibility: hidden;\r\n  backface-visibility: hidden;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n.cards__front {\r\n  height: 100%;\r\n  transform: rotateX(0deg);\r\n  -webkit-transform: rotateX(0deg);\r\n}\r\n\r\n.cards__back {\r\n  transform: rotateY(180deg);\r\n  -webkit-transform: rotateY(180deg);\r\n  position: absolute;\r\n  text-align: center;\r\n  right: 0;\r\n  left: 0;\r\n  top: 10px;\r\n  color: #20263f;\r\n}\r\n\r\n\r```\nLet's go step by step. The `backface-visibility`property sets as the name says if the visibility of the back of our card is hidden or visible( that's the value it will take, besides the global values :inherit, initial, unset). Because we want that property in the front and on the back of our card, we set it to hidden on both. This property however doesn't work in 2D, so we have to add this property to our `.cards-single` :\n\n```css\n.cards__single {\n  -webkit-transition: transform 0.6s;\r\n  transform-style: preserve-3d;\n}\n```\n\nThis property sets whether the children of an element are positioned in the 3d space or not.\nThen in both front and back we set again flex with column direction.\nI had to the `cards__front` the `transform:rotateX(0deg)`property because of Safari. With works good without in Android and Desktop, but in some Safari, when you flip the card, the back goes blank. Even with that property set, not all Safari browsers work smoothly.\nThen at last we set the position of the back card to absolute and set `transform: rotateY(180deg);` to hide the back of the card. Here is the code pen with the back of the card hidden:\n\n\n<p class=\"codepen\" data-height=\"265\" data-theme-id=\"dark\" data-default-tab=\"html,result\" data-user=\"mugas\" data-slug-hash=\"OJMmRQX\" style=\"height: 265px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;\" data-pen-title=\"flip cards - back hidden\">\r\n  <span>See the Pen <a href=\"https://codepen.io/mugas/pen/OJMmRQX\">\r\n  flip cards - back hidden</a> by Ricardo (<a href=\"https://codepen.io/mugas\">@mugas</a>)\r\n  on <a href=\"https://codepen.io\">CodePen</a>.</span>\r\n</p>\r\n<script async src=\"https://static.codepen.io/assets/embed/ei.js\"></script>\n\nWe are starting to get somewhere now. Let's try to add that flip on the card to see the back of it.\nWhat we want to achieve is that when someone press the card, the front of the card flips and shows the back of the card.\nLet's first create that property in CSS:\n```CSS\n.cards__single.flip {\r\n  transform: rotateY(180deg);\r\n  -webkit-transform: rotateY(180deg);\r\n}\n```\nWe are adding a class named `flip` in our cards, that it will rotate our card 180 degrees. Because of the `backface-visibility` it will show the back of the card and the front it will be hidden. And then we also want that when pressed again it goes back to normal.\nThere are many ways you can achieve that. You can for example add and remove the class `flip` every time its pressed but Javascript has thankfully the class `toggle`.\n```js\nconst cards = document.querySelectorAll(\".cards__single\");\r\n\r\nfunction flipCard() {\r\n  this.classList.toggle(\"flip\");\r\n}\r\ncards.forEach((card) => card.addEventListener(\"click\", flipCard));\n```\n\nLet's go from the beginning. First we get all our cards, with the `document.querySelectorAll`. But if you console the cards `console.log(cards)` you see that you get a Node list. \nSo how can you add a event listener to a Node list? Yes you loop over them with \n`cards.forEach((card) => card.addEventListener(\"click\", flipCard))`\n\nYou can see about loops [here](https://www.ricardomoreira.io/blog/2020-05-27-loops-with-examples).\n\nNow we create a function named `flipCard` and write `this.classList.toggle(\"flip\");\r` With `this` you are getting ( as [Wes Bos](https://wesbos.com/) so well explained its) what is on the left of the dot of the method you are calling. In this case `this` is each of the cards we are lopping.\nWith the toggle function, we make sure that, by clicking on the cards the class will be added and remove with every click\n\nLet' see it in action:\n\n<p class=\"codepen\" data-height=\"265\" data-theme-id=\"dark\" data-default-tab=\"html,result\" data-user=\"mugas\" data-slug-hash=\"PoZjjEy\" style=\"height: 265px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;\" data-pen-title=\"Flip cards-  With flip\">\r\n  <span>See the Pen <a href=\"https://codepen.io/mugas/pen/PoZjjEy\">\r\n  Flip cards-  With flip</a> by Ricardo (<a href=\"https://codepen.io/mugas\">@mugas</a>)\r\n  on <a href=\"https://codepen.io\">CodePen</a>.</span>\r\n</p>\r\n<script async src=\"https://static.codepen.io/assets/embed/ei.js\"></script>\n\n\nIt's working right? And that it's all you need to create a flip card with just few lines of javascript. Now we only need to add media queries for screens bigger than mobile. Once again, like I did in the last post I will use the min width as 768px:\n\n```css\n@media (min-width: 768px) {\r\n  .cards {\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: space-around;\r\n    align-content: center;\r\n    position: relative;\r\n    perspective: 1000px;\r\n    align-items: stretch;\r\n  }\r\n\r\n  .cards__single {\r\n    width: 20%;\r\n  }\r\n}\r\n```\n\nWhat we did here is that the cards will display in a row, because the screen is bigger so the cards will fit nicer side by side. I also gave a width of 20% to each card. \nPlease play around with the code because that is one of the best way to learn and if you want make your own version and share it if you feel like it.  \n\nSome useful links that help and have more info about this subject:\n\n* [Tab Index - Acessibility ](https://webaim.org/techniques/keyboard/tabindex)\n* [Flexbox](https://css-tricks.com/snippets/css/a-guide-to-flexbox/#flexbox-background)\n* [Backface-visibility](https://css-tricks.com/almanac/properties/b/backface-visibility/)\n* [Backface-visibility MDN](https://developer.mozilla.org/en-US/docs/Web/CSS/backface-visibility)\n* [Toggle in Javascript](https://developer.mozilla.org/en-US/docs/Web/API/DOMTokenList/toggle)\n\n",
  "tags": [
    "Javascript",
    "toggle"
  ]
}
{
  "start": "June 22, 2020",
  "title": "Start with Api by doing Nasa APIS",
  "author": "Ricardo Moreira",
  "excerpt": "With Nasa API",
  "body": "So, now that we now how to include Axios and work around it, let's do out first get request to show in our page.\n\nNasa has plenty of APIs and we going to use some of them. One of the most known is the [picture of the day](https://apod.nasa.gov/apod/).\n\nTo focus more on the API, I will not spend to much time on the CSS or html but I try to make some explanation when I feel its necessary.\n\n```html\n <figure class=\"daily-image\">\n   <figcaption></figcaption>\n </figure>\n```\n\n```css\nimg {\n  width: 100%;\n  height: 400px;\n}\n\n.daily-image {\n  text-align: center;\n}\n```\n\n```js\nconst imageOfTheDay = document.querySelector(\".daily-image\");\n```\n\nSo here we are only \"setting the table\". In our html, we set where er going to have the picture, with our css we set the image size and position. Then in our javascript we get the element where we going to put the image with `document.querySelector`.\n\n[Here](https://api.nasa.gov/) we get all the api's from Nasa and the info and there by going to **Browse APIs** and choose **APOD** we see the HTTP Request. For this example we use the Demo Key. We can set it straigth in the link like this `https://api.nasa.gov/planetary/apod?api_key=DEMO_KEY` but we are going to use as parameters to see how to use them.\n\n```js\nconst getImageOfTheDay = () => {\n  axios\n    .get(\"https://api.nasa.gov/planetary/apod?\", {\n      params: {\n        api_key: \"DEMO_KEY\",\n      },\n    })\n    .then((response) => {\n      console.log(response);\n      imageOfTheDay.insertAdjacentHTML(\n        \"beforeend\",\n        `<img src=${response.data.hdurl}>`\n      );\n    });\n};\n\ngetImageOfTheDay();\n```\n\nMany things happening here right? Let's go step by step.\nFirst we set the axios with the API from Nasa that I mentioned above. As we learn before, we set the params inside curly brackets and put the api_key in it. As you can see in the website of the API, besides that query you can use also, get an iamge from an specific date or set the image with high resolution.\n\nAfter that we set the response. We already get the element we want to get so we only need to use the `insertAdjacentHtml`(I set it to \"beforeend\") and put the image tag with the source we want. If you are wondering how or why there is the `response.data.url`, I also console.log the `response`for us to analyze.\n\n\n\n![](https://res.cloudinary.com/mugas/image/upload/v1592895027/nasa_pic_cdu29z.png)\n\nBy inspecting it we can see all the info we can get from the API below the data. To access it we just need to add after the `response`the `data` and then the info we need. So with `response.data.url` we get the image. Let's try to add the title.\n\n```html\n   <h2 class=\"picture-name\"></h2>\n```\n```js\nconst pictureName = document.querySelector(\".picture-name\");const getImageOfTheDay = () => {\r\n  axios\r\n    .get(\"https://api.nasa.gov/planetary/apod?\", {\r\n      params: {\r\n        api_key: \"DEMO_KEY\",\r\n      },\r\n    })\r\n    .then((response) => {\r\n      console.log(response);\r\n      // pictureName.insertAdjacentHTML(\"beforeend\", `${response.data.title}`);\r\n      imageOfTheDay.insertAdjacentHTML(\r\n        \"beforeend\",\r\n        `<img src=${response.data.hdurl}>`\r\n      );\r\n      pictureName.insertAdjacentHTML(\"beforeend\", `${response.data.title}`);\r\n    });\r\n};\n```\nYes, just with `$response.data.title` you also can access the title.\nAnd like this, you have the first API working and rendered on your website.\nHere's the code pen:\n\n<p class=\"codepen\" data-height=\"265\" data-theme-id=\"dark\" data-default-tab=\"js,result\" data-user=\"mugas\" data-slug-hash=\"GRomNdO\" style=\"height: 265px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;\" data-pen-title=\"Nasa Api - First Image\">\r\n  <span>See the Pen <a href=\"https://codepen.io/mugas/pen/GRomNdO\">\r\n  Nasa Api - First Image</a> by Ricardo (<a href=\"https://codepen.io/mugas\">@mugas</a>)\r\n  on <a href=\"https://codepen.io\">CodePen</a>.</span>\r\n</p>\r\n<script async src=\"https://static.codepen.io/assets/embed/ei.js\"></script>\n\nMore you say? Let's do it.\n\n\n",
  "tags": [
    "api"
  ]
}
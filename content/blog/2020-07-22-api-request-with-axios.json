{
  "start": "July 27, 2020",
  "title": "API request with Axios",
  "author": "Ricardo Moreira",
  "thumbnail": "https://res.cloudinary.com/mugas/image/upload/v1595401324/nasaapi_lgixoe.png",
  "excerpt": "Make a get request from Nasa API",
  "body": "![]()\n\nWorking with Apis can be a challenge but it's for sure something you want to work on and learn. \n\nBut I know(at least for me) when you start working/learning them it seems a total new world in top on the Javascript( in our case) world. There are so many APIs, some free, other no, some require some key others don't. Then how you get the data? You can go with Axios or fetch... So many options and way to do it that when you start you don't know where to start.\n\n**So let's get a small win.**  \n\nI will go back in the future to API with a full explanation of how to work with them, and all options. but for the sake of this post we only going to do some get requests and render them on the page using Axios. We do all that using [Nasa Api](https://api.nasa.gov/)\n\nSo this is what we will cover in this posts:\n\n* What is an API\n* Why Axios\n* Make a get request\n* Render the data in the page\n* Hide Api keys\n\nSo ready to go to moon and back?\n\n## Links\n\n* [Project page](https://https://nasaapiaxios.netlify.app/)\n* [GitHub page](https://github.com/mugas/Blog-Post/tree/master/Nasa%20API)\n* [Code Pen](https://codepen.io/collection/AdQGRM)\n* You also can read it [here](https://dev.to/mugas/flip-cards-with-javascript-2ad0) and [here](<>)\n\n## **What is an API?**\n\nAPI stands for Application Programming Interface and can be defined as what let's one application talk with another application.\n\nSo keeping it simple any type you share something from one site (app) to another you are in someway using an app. You have your website and want to display there all your posts in some social media app. How you do that? Yes with an API. Many of those API follow a set of rules that make them REST API. **REST** stands for Representational State Transfer and these are some of the \"rules\" that make an API a REST API:\n\n1. Client Server Based\n2. Statelessness\n3. Layered System\n4. Caching\n5. Uniform Design\n6. Code on Demand\n\nWe will not focus on each point but the idea is the API can be accessed by a url, and in that url is data that you can access. Most of the times that data returns in JSON (not always), but we go more on that in a moment. \n\nAll around internet there are many companies, websites, governments that have their data available for you to access and they do that in an API and that's exactly what we are going to do.  There are many APIs in Nasa  API [website](https://api.nasa.gov/).\nFor this tutorial we are going to get the Image of the day and the weather from Mars, in case you are thinking to go there on vacations some day.\n\n## **Why Axios?**\n\nSo you might have heard that you need to make a request to get the API and that request can be made with `fetch` or `axios` for example.\nBoth of them can make a http request, but with fetch, you have to transform the JSON data and with Axios you don't need.Also axios is more well supported even in old browsers but can be easily be done with fetch.\nTo start running and see something done when you dive in the world of APIs, axios is a good way to start and we are going to use it.\nReady? Let's start.\n\nCreate 3 files `style.css, app.js and index.html`\n\nTo start using the Axios you can use it via cdn:\n`https://unpkg.com/axios/dist/axios.min.js`\n\nJust put that in your html down in the body \n\nTo focus only on the API, I will skip the CSS explanation (the code will be available of course) . Normally you could run this in your browser locally but because it's an API you better running in the server. The easiest and best way is using [Parcel](https://parceljs.org/) - A web application bundler.\n\nTo use Parcel:\n\nYarn - `yarn global add parcel-bundle`\nNpm - `npm install -g parcel-bundler`\n\nAfter is installed, open your *package.json* file and inside the scripts, delete the code that is there and write:\n\n```js\n \"scripts\": {\n    \"start\": \"parcel index.html\"\n  }\n```\n\nThen every time you have to run your code, open the terminal and run `npm run start`. It should open on localhost:1234, the page.\n\n**Note:** If when you try to run, the console returns a error `regeneratorruntime not defined`, go to your app.js file and write `import regeneratorRuntime from \"regenerator-runtime\"`.\n\n## **Make a get request**\n\nTo make a get request with axios we use the following syntax:\n\n```js\naxios.get(\"url\")\n.then(function (response){\nconsole.log(response)\n;\n})\n.catch(function(error){\nconsole.log(error);\n});\n```\n\nThis can be a mouthfull if you are starting with JS or API so I try to break it down. Axios returns a promise and the way we can deal with promises is with `then`and `catch`. With the first one in case the request has been successful, \"then\" you get a response. If by any chance there is some error in the promise( promise is rejected) we can \"catch\" the error.\n\nNow let's get the data and render in on the page\n\nOur html\n\n```html\n<section id=\"control-center\">\n      <h1 class=\"control-center__title\">Nasa Image of the day</h1>\n      <h2 class=\"picture-name\"></h2>\n      <figure class=\"daily-image\">\n        <figcaption></figcaption>\n      </figure>\n      <h3 class=\"mars__title\">Weather in Mars</h3>\n      <section class=\"mars__container\">\n        <div class=\"mars__today\">\n          <div class=\"mars__today-data\">\n            <span class=\"mars__info\">Mars today</span>\n            <br />\n          </div>\n          <button id=\"btn__today\">Today Mars Weather</button>\n        </div>\n        <div class=\"mars__tomorrow\">\n          <div class=\"mars__tomorrow-data\">\n            <span class=\"mars__info\">Mars tomorrow </span>\n            <br />\n          </div>\n          <button id=\"btn__tomorrow\">Tomorrow Mars weather</button>\n        </div>\n        <div class=\"mars__info\">\n          <div class=\"mars__info-data\">\n            <span class=\"mars__info\">Mars in 2 days</span>\n            <br />\n          </div>\n          <button id=\"btn__nextDay\">Mars in two days</button>\n        </div>\n      </section>\n      <p class=\"mars-weather\"></p>\n    </section>\n```\n\nOur CSS\n\n```css\nbody {\n  background: #eceee5;\n}\n\n.control-center__title,\n.mars__title {\n  color: #a64e43;\n  text-align: center;\n  font-family: cursive;\n  font-size: 50px;\n  margin: 0;\n}\n\nimg {\n  width: 90%;\n  height: 400px;\n  border-radius: 40px;\n}\n\n.picture-name {\n  text-align: center;\n  color: #6a7b9c;\n}\n\n.daily-image {\n  text-align: center;\n}\n\nbutton {\n  box-shadow: 0px 10px 14px -7px #20263f;\n  background: linear-gradient(to bottom, #7720263f b55a 5%, #72b352 100%);\n  background-color: #20263f;\n  border-radius: 4px;\n  border: 1px solid #6a7b9c;\n  display: inline-block;\n  cursor: pointer;\n  color: #ffffff;\n  font-family: Arial;\n  font-size: 17px;\n  font-weight: bold;\n  padding: 10px 21px;\n  text-decoration: none;\n  text-shadow: 0px 1px 0px #6a7b9c;\n}\n\n.mars__container {\n  display: flex;\n  justify-content: space-around;\n}\n\n.mars__info {\n  color: #20263f;\n  font-size: bold;\n}\n\n.mars__today-data,\n.mars__tomorrow-data,\n.mars__info-data {\n  width: 100px;\n  height: 100px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  color: #a64e43;\n  font-family: \"Gill Sans\", \"Gill Sans MT\", Calibri, \"Trebuchet MS\", sans-serif;\n  font-weight: 700;\n  text-align: center;\n  margin: 0 auto;\n}\n\n.mars__today,\n.mars__tomorrow,\n.mars__info {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n```\n\nAnd this is what we end up with:\n\n<p class=\"codepen\" data-height=\"265\" data-theme-id=\"dark\" data-default-tab=\"css,result\" data-user=\"mugas\" data-slug-hash=\"WNrPWgg\" data-preview=\"true\" style=\"height: 265px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;\" data-pen-title=\"Nasa Api -No js\">\n  <span>See the Pen <a href=\"https://codepen.io/mugas/pen/WNrPWgg\">\n  Nasa Api -No js</a> by Ricardo (<a href=\"https://codepen.io/mugas\">@mugas</a>)\n  on <a href=\"https://codepen.io\">CodePen</a>.</span>\n</p>\n<script async src=\"https://static.codepen.io/assets/embed/ei.js\"></script>\n\nGreat, the page is done, let's put our API data there.\n\nIn the Nasa [API](https://api.nasa.gov/) scroll down to *Browse APIs* and press on the first one : **APOD - Astronomy Picture of the Day** and there is the code for the `get request`.\n\nSo with the syntax we saw on top let's create our first request in javascript:\n\n```js\nconst apiPicOfTheDay = axios.get(\"https://api.nasa.gov/planetary/apod?\").then((response) =>{\n  console.log(response)\n}).catch((err)=>{\n  console.log(err)\n})\n\nconsole.log(apiPicOfTheDay)\n```\n\nIf you are doing this in code pen you might have to use the browser console to see, but it we can't see any data right?In fact it returns an error 403(Forbidden). That is most likely because we didn't add any parameters, for example the API_Key. \nApi_Key is what gives you access to the API. Some APIs don't need any key, other need but are free, others you have to pay for it. The most important part is Never give your API_key to no one or let it visible( we will cover that in the end of the tutorial).\nThis API in particularly needs a demo API_key. If you see in the page of the API we have the query parameters we can use and also there is an example query. There you can see that the http request, has the API_key in front. \n\n![](https://res.cloudinary.com/mugas/image/upload/c_scale,w_645/v1595834798/picOfTheDay_edited_rswqgo.jpg)\n\nBut what if we don't want to put in front of the request like it is on the example?\nWe only need to add it to the parameters like this:\n\n```js\nconst apiPicOfTheDay = axios.get(\"https://api.nasa.gov/planetary/apod?\", {\n  params: {\n    api_key: \"DEMO_KEY\",\n  },\n});\n```\n\nI create a variable named `apiPicOfTheDay`. Like this we can use it again without writing the request again.\n\nLet' see if this now works:\n\n```js\nconst getImageOfTheDay = () => {\n  apiPicOfTheDay\n    .then((response)=>{\n      console.log(response)\n    })\n    .catch((err)=>{\n    console.log(err)\n   })\n}\n\nconsole.log(getImageOfTheDay());\n```\n\nIf you check the console now you have an object. Inside that object there are many properties. Press the one it says data. You see it? There there is the data of this API, including the date, and the url of the image.\nBut we don't need all this info. We only want the title of the image and the image it self.\n\n```js\nconst getImageOfTheDay = () => {\n  apiPicOfTheDay\n    .then((response)=>{\n      console.log(response.data.hdurl)\n      console.log(response.data.title)\n    })\n    .catch((err)=>{\n    console.log(err)\n   })\n}\n\nconsole.log(getImageOfTheDay());\n```\n\n![Nasa Api in the console](https://res.cloudinary.com/mugas/image/upload/c_scale,w_641/v1595560706/Nasa_inconsole_zurj1i.jpg \"Nasa API in the console\")\n\nAnd there we have our information that we request. And you also can see in the console of the http request that the status of the promise is Fulfilled, meaning that the request was successful.\n\nWe only need now to render this data on the page. Let's do it. \nBelow the code pen of the project till now\n\n<p class=\"codepen\" data-height=\"265\" data-theme-id=\"dark\" data-default-tab=\"css,result\" data-user=\"mugas\" data-slug-hash=\"mdVvYqG\" data-preview=\"true\" style=\"height: 265px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;\" data-pen-title=\"Nasa API in the console\">\n  <span>See the Pen <a href=\"https://codepen.io/mugas/pen/mdVvYqG\">\n  Nasa API in the console</a> by Ricardo (<a href=\"https://codepen.io/mugas\">@mugas</a>)\n  on <a href=\"https://codepen.io\">CodePen</a>.</span>\n</p>\n<script async src=\"https://static.codepen.io/assets/embed/ei.js\"></script>\n\n## **Render the data in the page**\n\nNow let see that image on the page. This part is not so much API related but I think it's important that not only you see how to retrieve the data on an API but also how can you put in on the page.\n\nSo look back to your html and we see there is an `h2` with a class named `picture-name` and there is where we want the title of our image.Also there is inside the `<figure>` the class `daily-image` that it will be where we are going to put our image. Let's grab them in our js file:\n\n```js\nconst pictureName = document.querySelector(\".picture-name\");\nconst imageOfTheDay = document.querySelector(\".daily-image\");\n```\n\nWe are going to use the method `insertAdjacentHTML`to render the data.\n\n```js\nconst getImageOfTheDay = () => {\n  apiPicOfTheDay\n    .then((response) => {\n      imageOfTheDay.insertAdjacentHTML(\n        \"beforeend\",\n        `<img src=${response.data.hdurl}>`\n      );\n      pictureName.insertAdjacentHTML(\"beforeend\", `${response.data.title}`);\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n};\n\ngetImageOfTheDay();\n```\n\nWith the `imageOfTheDay` it's where we want the picture. We add the method `insertAdjacentHTML`. This method takes 2 arguments: the position and the text you want to insert. \nThe positions available are : 'beforebegin', 'afterbegin', 'beforeend','afterend'. Let's choose the `beforeend`. Then for text we use template literals. Because we want an image, we put the image tag and as source the data we want to request from the API `${response.data.hdurl}`.\nFor the title, it's the same method, but bit simpler because we don't need to pass any image tag.\n\n<p class=\"codepen\" data-height=\"265\" data-theme-id=\"dark\" data-default-tab=\"css,result\" data-user=\"mugas\" data-slug-hash=\"yLewoej\" data-preview=\"true\" style=\"height: 265px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;\" data-pen-title=\"Nasa Api - Image of the day\">\n  <span>See the Pen <a href=\"https://codepen.io/mugas/pen/yLewoej\">\n  Nasa Api - Image of the day</a> by Ricardo (<a href=\"https://codepen.io/mugas\">@mugas</a>)\n  on <a href=\"https://codepen.io\">CodePen</a>.</span>\n</p>\n<script async src=\"https://static.codepen.io/assets/embed/ei.js\"></script>\n\nCongrats we just use successfully the Nasa API and render it on the page!\n\nAnother example you say? Ok, so you are planning to travel and want to see if the weather in Mars is ok( spoiler alert: it's not). Let's retrieve that data from the API.\n\nHead back to the Nasa API webpage and now let's choose the **Insight** API - **Mars Weather Service API.**\n\nNow we feel more comfortable with working with APIs we know where to start. First let's get the http request and store it in a variable.\n\n```js\nconst apiMarsWeather = axios.get(\"https://api.nasa.gov/insight_weather/\", {\n  params: {\n    api_key: \"DEMO_KEY\",\n    version: \"1.0\",\n    feedtype: \"json\",\n  },\n});\n```\n\n`ApiMarsWeather`is the name we gave to the variable and then we get the url and set the parameters like it is on the page.\nBesides this info on the page there is also the link to [here](https://api.nasa.gov/insight_weather/) where you can get more info about the API and how to retrive data.\nBut let's keep our working flow, like we did before. So now we have the request stored in a variable, let's try to get a response to see what happens:\n\n```js\nconst getTodayWeather = () => {\n  apiMarsWeather\n    .then((response) => {\n      console.log(response);\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n};\n\ngetTodayWeather();\n```\n\n![Nasa API Weather in Mars in the console](https://res.cloudinary.com/mugas/image/upload/c_scale,w_641/v1595560706/Nasa_inconsole_zurj1i.jpg \"Nasa API Weather in Mars in the console\")\n\nWhere it is! But what is? Yes we see the data in the console,much more actually but it seems more challenging to get it...or not?\nFirst let's try to understand the data that is given and for that let's go for the link that I showed you before and for some space knowledge.\n\nIn the first paragraphs we learn that the API takes different measurements like temperature, wind and pressure from Mars. The data is provided per Sol( meaning one Sol is one day, and in Mars a full year takes 687 days in Earth). So the numbers you see: 582,583,etc are days. Inside the numbers we have the AT, Hws, Pre and Wd that represent the measurements. So we want the average temperature in the day. In our case we going to retrieve the average temperature for today, tomorrow and the following day. In the documentation we also learn that the data corresponds to 7 days of the week.\n\nLet's try to console this:\n\n```js\nconst getTodayWeather = () => {\n  apiMarsWeather\n    .then((response) => {\nconsole.log(response);\nconsole.log(response.data)\nconsole.log(typeof(response.data)) \n})\n    .catch((err) => {\n      console.log(err);\n    });\n};\n\ngetTodayWeather();\n```\n\nIn the first we get the response of the API, in the second, we have the data of the API, in the third we check what is that data and it comes as an object. But inside that object, we have and array with 7 elements( one for each day). And what is the data we want?\nWe want the average temperature(av/At) for the first 3 days.How we get that?\n\n```js\nconsole.log(response.data[582])\nconsole.log(response.data[582].AT.av);\n```\n\nJust a **important** side note: In the screenshot above the numbers for the days are : 582,583, etc. When you are seeing this tutorial and are doing this, the numbers not going to be this, because the numbers are the days, so you are doing this in a different day it will show up different days there. \nSo when I wrote `console.log(response.data[582])` you have to write the number of the day that it will show up in the console.\n\nBack to code: with the last console not only we access the data of one day, but also we can see the temperature we need for the day in question. Great! Or is it? Unless you want to change the API everyday to the day that you need, you only have the data in the first day. Because today the first element(index 0 of the array) of the array in 582 (see note above), but tomorrow the first element is going to be 583, so our code will come empty.\nOne way to get the property of each object is with the method `Object.values`. This method returns an array of the properties of the object.\nHow can we use it?\nLet's store it in a variable and console it\n\n```js\nconst weather = Object.values(response.data);\nconsole.log(weather)\n```\n\nSuccess. Now we have the data that we want in an array indexed. So we only need to find the first index(0) and we are good to go.\n\n```js\nconst weather = Object.values(response.data);\nconst weatherToday = weather[0].AT.av;\n```\n\nLike this we can have the average temperature of the day in Mars. Now we need to render it on the page but before that if you check our html or our page you see that we have the button for today, tomorrow and next day weather.\nThere are many way do achieve that. For the sake of this tutorial and to explain some concepts ahead I will create 3 different functions. One for each button. \n\n```js\nconst getTodayWeather = () => {\n  apiMarsWeather\n    .then((response) => {\n      console.log(response);\n    const weather = Object.values(response.data);\nconst weatherToday = weather[0].AT.av;\n    console.log(weatherToday)\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n};\n\ngetTodayWeather();\n\nconst getTomorrowWeather = () => {\n  apiMarsWeather\n    .then((response) => {\n      console.log(response);\n    const weather = Object.values(response.data);\nconst weatherTomorrow = weather[1].AT.av;\n    console.log(weatherTomorrow)\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n};\n\ngetTomorrowWeather();\n\nconst getNextDayWeather = () => {\n  apiMarsWeather\n    .then((response) => {\n      console.log(response);\n    const weather = Object.values(response.data);\nconst weatherinTwoDays = weather[2].AT.av;\n    console.log(weatherinTwoDays )\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n};\n\ngetNextDayWeather ();\n```\n\nThis seems a lot but it's not. It's 3 different functions. One for each day. Inside of it there are the variables that we set before. I just change the index of the array for each day.\nHere is the codepen. Check the console and change the value or get more data to feel comfortable with it\n\n<p class=\"codepen\" data-height=\"265\" data-theme-id=\"dark\" data-default-tab=\"js,result\" data-user=\"mugas\" data-slug-hash=\"yLewopR\" data-preview=\"true\" style=\"height: 265px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;\" data-pen-title=\"Nasa API - Mars weather console\">\n  <span>See the Pen <a href=\"https://codepen.io/mugas/pen/yLewopR\">\n  Nasa API - Mars weather console</a> by Ricardo (<a href=\"https://codepen.io/mugas\">@mugas</a>)\n  on <a href=\"https://codepen.io\">CodePen</a>.</span>\n</p>\n<script async src=\"https://static.codepen.io/assets/embed/ei.js\"></script>\n\nAll right. So now to render it on the page it's basically they way we did it with the *Image of the day.*\nLet's see our html. We want that our data shows inside the div that has the class `mars__today-data, mars__tomorrow-data, mars__info-data`.\nWe also want that when we press the button, the data shows for each day.So we also need to get the buttons. We have:\n\n```js\nconst marsWeatherToday = document.querySelector(\".mars__today-data\");\nconst marsWeatherTomorrow = document.querySelector(\".mars__tomorrow-data\");\nconst btnMarsToday = document.getElementById(\"btn__today\");\nconst marsTitle = document.querySelector(\".mars__title\");\nconst btnMarsTomorrow = document.getElementById(\"btn__tomorrow\");\nconst btnNextDay = document.getElementById(\"btn__nextDay\");\nconst marsInfoData = document.querySelector(\".mars__info-data\");\n```\n\nNow that we get our buttons and divs in js, let's render the API there.\n\n```js\nconst getTodayWeather = () => {\n  apiMarsWeather\n    .then((response) => {\n      const weather = Object.values(response.data);\n      const weatherToday = weather[0].AT.av;\n      marsWeatherToday.insertAdjacentHTML(\"beforeend\", weatherToday);\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n};\n\n// Tomorrow temperature\nconst getTomorrowWeather = () => {\n  apiMarsWeather\n    .then((response) => {\n      const weather = Object.values(response.data);\n      const weatherTomorrow = weather[1].AT.av;\n      marsWeatherTomorrow.insertAdjacentHTML(\"beforeend\", weatherTomorrow);\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n};\n\n// Today temperature\nconst getNextDayWeather = () => {\n  apiMarsWeather\n    .then((response) => {\n      const weather = Object.values(response.data);\n      const weatherInTwoDays = weather[2].AT.av;\n      console.log(weatherInTwoDays);\n      marsInfoData.insertAdjacentHTML(\"beforeend\", weatherInTwoDays);\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n};\n```\n\nAnd then we add our event listeners:\n\n```js\nbtnMarsToday.addEventListener(\"click\", getTodayWeather, {\n  once: true,\n});\nbtnMarsTomorrow.addEventListener(\"click\", getTomorrowWeather, {\n  once: true,\n});\nbtnNextDay.addEventListener(\"click\", getNextDayWeather, {\n  once: true,\n});\n```\n\nNow if you press the button for each day, it shows the average temperature. Great right? Here is the codepen:\n\n<p class=\"codepen\" data-height=\"265\" data-theme-id=\"dark\" data-default-tab=\"js,result\" data-user=\"mugas\" data-slug-hash=\"RwrdjRd\" data-preview=\"true\" style=\"height: 265px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;\" data-pen-title=\"Nasa API -Weather in Mars\">\n  <span>See the Pen <a href=\"https://codepen.io/mugas/pen/RwrdjRd\">\n  Nasa API -Weather in Mars</a> by Ricardo (<a href=\"https://codepen.io/mugas\">@mugas</a>)\n  on <a href=\"https://codepen.io\">CodePen</a>.</span>\n</p>\n<script async src=\"https://static.codepen.io/assets/embed/ei.js\"></script>\n\nThis could be the end of this tutorial, but I still want to touch a couple of aspects. You might realized that by creating the 3 functions and on each one getting a request, would be great that we can send multiple request at once. And yes we can. Axios came with a function called `all` and basically it does exactly that.\n\n```js\nfunction getMarsWeather() {\n  axios\n    .all([getTodayWeather(), getTomorrowWeather(), getNextDayWeather()])\n    .then(axios.spread(function () {}));\n}\n\nmarsTitle.addEventListener(\"mouseover\", getMarsWeather, {\n  once: true,\n});\n```\n\nSo with the function that is inside Axios you can call all other function with only one request. To make it also visible I add a event listener that on `mouseover` the title it will show the temperatures.\n\nHere is the code with both ways. You then can choose which you want to use.\n\n<p class=\"codepen\" data-height=\"265\" data-theme-id=\"dark\" data-default-tab=\"js,result\" data-user=\"mugas\" data-slug-hash=\"mdVoqpN\" data-preview=\"true\" style=\"height: 265px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;\" data-pen-title=\"Nasa Api- Weather in Mars complete\">\n  <span>See the Pen <a href=\"https://codepen.io/mugas/pen/mdVoqpN\">\n  Nasa Api- Weather in Mars complete</a> by Ricardo (<a href=\"https://codepen.io/mugas\">@mugas</a>)\n  on <a href=\"https://codepen.io\">CodePen</a>.</span>\n</p>\n<script async src=\"https://static.codepen.io/assets/embed/ei.js\"></script>\n\n## **Hide API keys**\n\nThis is important. Like I mentioned before never give your API_key to know one. Believe there are many stories out there when someone did that and a big bill or something worst might arrive at your door.\nSaid that, there are many ways to do that, and they are used with Node( for example). In this tutorial we are only using front-end but we can make it happen, just not going to show up in the code pen. This also requires that you know github or have your code there.\nBasically what it does it, your variables will be hidden from the server, and from your repo.\n\nOpen your terminal on the folder where you have your app and instal the package [dotenv](https://github.com/motdotla/dotenv)\n\n```js\nnpm install dotenv\n```\n\nor\n\n```js\nyarn add dotenv\n```\n\nAfter is installed (check in the package.json file) go to your js file and:\n\n```\nimport {} from \"dotenv/config\";\n```\n\nNow we can start using it. \nCreate a new file named `.env` \nJust like that, don't forget the dot. In that file write\n\n```js\nAPI_KEY= Hello\n```\n\nYou can write what you want, the important is that when you access it, you write what is here with the same name.\n\nNow go to your js again and write:\n\n```js\nconst message = process.env.API_KEY;\nconsole.log(message);\n```\n\nWhat we have here? We are creating a variable named `message` and we assign it to `process.env.API_KEY`. So `process.env` is what you need to access the file `.env`. After in the name of the variable that you create in that file.\nI console it for you to see that the **message** is the APIKEY that you wrote in the file. It might give an error and don't show up nothing. In that case, open the folder where you have the project, delete the cache folder and restart the application again with parcel.\n\nIn the console is the message \"Hello\" ? Great it works. So Hello is your API_key and now in the js file instead or writing your API_key you just write message and it will work. But...The variable is still visible right? If you commit the file and check your github you see your .env variable. So back to square zero? Not quite. Now we just need to inform Github that the `.env`file is to be hidden.\nYou have a file in your folder named `.gitignore`right?Open it. In case you don't known that file is where you write the name of the files that you don't want that are going to be committed and pushed in to the repository. It should be there already `node_modules` by default. In the next line write `.env`.\nNow if you commit and push your changes and check your github, you see that the `.env` file is not available. No one can see it, so your API_keys are safe. Remember also to delete the console of the message.\nTell me( trough twitter or from my website) if you need a better explanation of this part and I do a video of it and add it to the tutorial. \n\n```js\nconsole.log(message);\n//DELETE ME\n```\n\nAnd that's that. It's a long text for just a small part of the APIs world, but I hope that with this you can start adventure yourself in the world of APIs. Check the codepen, the final project and all links available and get back to me if you have some ideas or if something is wrong. I'm learning myself, so the more we learn and share and talk about it the better.\n\nLinks about what we cover:\n\n* [InsertAdjacentHtml](https://developer.mozilla.org/en-US/docs/Web/API/Element/insertAdjacentHTML)\n* [Template Literals](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals)\n* [API](https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Client-side_web_APIs/Introduction)\n* [More on API](https://flaviocopes.com/axios/)\n\n**Side Notes**\n\n* Normally I use the Bem methodology for naming my classed. In this one there is a mix. Because I tried different ways using the API and using other APIs and using Axios  I was not following the methodology. Then when I start writing the post and adding the code pen with the code, I realized that I missed that spot. Sorry for that. I hope that even though you understand the class naming.",
  "tags": [
    "javascript",
    "API"
  ]
}